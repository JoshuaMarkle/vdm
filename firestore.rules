rules_version = '2';
service cloud.firestore {
	match /databases/{database}/documents {

		// Users can only read/write their own document
		match /users/{userId} {
			allow read, write: if request.auth != null && request.auth.uid == userId;
		}

		// Allow all users to read available shifts
		match /shifts/{shiftId} {
			allow read: if true;
			allow write: if false; // Write access only through Cloud Functions
		}

		// Block access to everything else
		match /{document=**} {
			allow read, write: if false;
		}
	}
}
